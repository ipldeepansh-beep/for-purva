<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>For My Purva ❤️</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
    /* --- RESET & BASICS --- */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
        background: #000; height: 100vh; overflow: hidden; 
        color: white; font-family: 'Poppins', sans-serif;
        user-select: none; -webkit-tap-highlight-color: transparent;
    }

    /* --- BACKGROUND IMAGES --- */
    .slide { 
        position: absolute; width: 100%; height: 100%; 
        opacity: 0; pointer-events: none; transition: opacity 1s ease;
    }
    .slide.active { opacity: 1; pointer-events: auto; }
    
    .bg {
        position: absolute; width: 100%; height: 100%;
        background-size: cover; background-position: center;
        filter: brightness(0.6); 
        transition: transform 10s linear;
    }
    .slide.active .bg { transform: scale(1.1); }

    /* --- THE TEXT BOX --- */
    .content {
        position: absolute; top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        width: 85%; 
        max-height: 70vh;
        overflow-y: auto; 
        padding: 25px;
        background: rgba(0, 0, 0, 0.75); 
        border: 1px solid rgba(255, 105, 180, 0.3);
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.8);
        scrollbar-width: none;
        z-index: 10;
        /* Subtle pulse animation for the box */
        animation: boxPulse 4s infinite alternate;
    }
    @keyframes boxPulse { 0% { border-color: rgba(255, 105, 180, 0.3); } 100% { border-color: rgba(255, 105, 180, 0.8); } }
    .content::-webkit-scrollbar { display: none; }

    h1 { font-size: 1.1rem; line-height: 1.7; white-space: pre-line; color: #fff; text-shadow: 1px 1px 2px black; }
    
    /* --- FLOATING ITEMS --- */
    .floater { position: absolute; pointer-events: none; z-index: 5; animation: floatUp 6s linear forwards; }
    .text-float { font-family: 'Dancing Script', cursive; color: rgba(255, 105, 180, 0.8); font-size: 1.5rem; font-weight: bold; text-shadow: 0 0 5px rgba(0,0,0,0.8); }
    .heart-float { color: #ff4d88; font-size: 1.2rem; }
    @keyframes floatUp { 
        0% { transform: translateY(100vh) scale(0.5); opacity: 0; } 
        20% { opacity: 1; }
        100% { transform: translateY(-10vh) scale(1.2); opacity: 0; } 
    }

    /* --- CLICK BURST PARTICLES --- */
    .burst-particle {
        position: absolute; width: 6px; height: 6px; background: #ff4d88;
        border-radius: 50%; pointer-events: none; z-index: 999;
    }

    /* --- SHOOTING STARS --- */
    .shooting-star {
        position: absolute; width: 100px; height: 2px;
        background: linear-gradient(90deg, rgba(255,255,255,0), rgba(255,255,255,1));
        animation: shoot 2s linear forwards; z-index: 4;
    }
    @keyframes shoot { 0% { transform: translateX(0) translateY(0) rotate(-45deg); opacity: 1; } 100% { transform: translateX(-500px) translateY(500px) rotate(-45deg); opacity: 0; } }

    /* --- MUSIC VISUALIZER --- */
    #visualizer { position: fixed; top: 20px; right: 20px; display: flex; align-items: flex-end; height: 20px; gap: 3px; z-index: 100; }
    .bar { width: 4px; background: #ff4d88; animation: bounce 0.5s infinite ease-in-out alternate; }
    .bar:nth-child(2) { animation-delay: 0.1s; height: 15px; }
    .bar:nth-child(3) { animation-delay: 0.3s; height: 10px; }
    @keyframes bounce { 0% { height: 5px; } 100% { height: 20px; } }

    /* --- PROGRESS BAR --- */
    #progress-container { position: fixed; top: 0; left: 0; width: 100%; height: 4px; z-index: 100; background: rgba(255,255,255,0.2); }
    #progress-bar { height: 100%; width: 0%; background: #ff4d88; transition: width 0.5s; }

    /* --- LOCK SCREEN --- */
    #lock { position: fixed; inset: 0; background: black; display: flex; align-items: center; justify-content: center; flex-direction: column; z-index: 9999; transition: transform 0.8s ease; }
    .lock-box { background: rgba(20, 20, 20, 0.9); padding: 40px; border-radius: 20px; border: 1px solid #333; text-align: center; }
    #pass { padding: 10px; font-size: 1.2rem; border-radius: 5px; border: none; text-align: center; margin-bottom: 15px; outline: none; }
    #unlockBtn { padding: 10px 25px; border: none; border-radius: 5px; background: #ff4d88; color: white; font-weight: bold; cursor: pointer; }
    .shake { animation: shake 0.4s ease-in-out; }
    @keyframes shake { 0%, 100% {transform: translateX(0);} 25% {transform: translateX(-10px);} 75% {transform: translateX(10px);} }

    /* --- FINAL LETTER & WAX SEAL --- */
    #wax-seal-btn {
        position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
        width: 90px; height: 90px; border-radius: 50%;
        background: #a81919; border: 4px solid #7a0e0e;
        display: flex; align-items: center; justify-content: center;
        box-shadow: 0 10px 30px rgba(0,0,0,0.8); cursor: pointer; z-index: 50;
        animation: pulseSeal 2s infinite;
    }
    #wax-seal-btn::after { content: '❤️'; font-size: 2.5rem; color: #d62828; }
    @keyframes pulseSeal { 0% {transform: translate(-50%,-50%) scale(1);} 50% {transform: translate(-50%,-50%) scale(1.1);} }
    
    #paper-letter { background: #fffdf0; color: #222; border: none; }
    #paper-letter h1 { color: #222; text-shadow: none; font-family: 'Dancing Script'; font-size: 1.4rem; }

    /* --- EXIT & FIREWORKS --- */
    #exit { position: fixed; inset: 0; background: black; display: none; align-items: center; justify-content: center; flex-direction: column; text-align: center; z-index: 1000; }
    canvas#fireworks { position: absolute; inset: 0; pointer-events: none; }
    #exit-content { z-index: 2; position: relative; }
    
    .type::after { content: '|'; animation: blink 1s infinite; color: #ff4d88; }
    @keyframes blink { 50% { opacity: 0; } }
    #idle { position: fixed; bottom: 20px; width: 100%; text-align: center; opacity: 0; color: #888; pointer-events: none; font-size: 0.8rem; }
</style>
</head>
<body>

    <div id="visualizer"><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div></div>

    <div id="progress-container"><div id="progress-bar"></div></div>

    <div id="lock">
        <div class="lock-box">
            <h2 style="font-family:'Dancing Script'; color:#ff4d88; font-size:2.5rem; margin-bottom:10px;">My Purva ❤️</h2>
            <div id="timer" style="color:#aaa; font-size:0.9rem; margin-bottom:20px;"></div>
            <input type="password" id="pass" placeholder="Password" maxlength="8">
            <br>
            <button id="unlockBtn">Unlock</button>
        </div>
    </div>

    <audio id="music" loop>
        <source src="khwab.mp3" type="audio/mpeg">
    </audio>

    <div class="slide active"><div class="bg" style="background-image:url('starting.jpg')"></div><div class="content"><h1 class="type" data-text="Hey Meri Purva"></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('1000197129.jpg')"></div><div class="content"><h1 class="type" data-text="I didn’t know how to start this..."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('gifts.jpg')"></div><div class="content"><h1 class="type" data-text="Because some things don’t begin with words."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('1.jpg')"></div><div class="content"><h1 class="type" data-text="Before you, my life was moving.\nBut it wasn’t settling.\nYou didn’t fix me.\nYou understood me."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('2.jpg')"></div><div class="content"><h1 class="type" data-text="I don’t always know how to love perfectly.\nBut I know who I want to learn with."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('together_ai.jpg')"></div><div class="content"><h1 class="type" data-text="I choose you.\nNot because it’s easy.\nBut because it’s real."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('3.jpg')"></div><div class="content"><h1 class="type" data-text="If this scared you a little…\nIt scared me too."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('hands_nad.jpeg')"></div><div class="content"><h1 class="type" data-text="But i am still here\nI choose you\nI choose you MERI PURVA"></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('4.jpg')"></div><div class="content"><h1 class="type" data-text="Even on days love isn’t easy"></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('heart.jpg')"></div><div class="content"><h1 class="type" data-text="I love you, MERI PURVA"></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('heart_bekar.jpg')"></div><div class="content"><h1 class="type" data-text="So lets start from the starting"></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('5.jpg')"></div><div class="content"><h1 class="type" data-text="So, we met through a common friend.\nAt that time, you were in a relationship with that guy.\nLater, you found out that he wasn’t serious about you, and he confessed it himself.\nAfter that, you both had a breakup.\nWhen I got to know about all this, I was honestly scared to talk to you.\nI didn’t want to disturb you or hurt you in any way.\nBut after a week or two, I messaged you.\nWe talked very maturely and calmly, and everything felt natural.\nWhen I understood the situation properly, I decided to step back from my friendship with Naman.\nI just wanted you to know that I’m here for you, and you can always text me."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('birthday.jpg')"></div><div class="content"><h1 class="type" data-text="Then we started talking a bit and here comes my birthday and the script and your 'aaj aapka birthday hai kya'.\nI did the most unexpected thing yaa yaa I know that 'hmmmmmmmmm' was different.\nBechara mera tinda happy birthday bolna bhi bhool gya.\nI lobeeee you"></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('college.jpg')"></div><div class="content"><h1 class="type" data-text="Phir, you got to your college and I got to Delhi.\nI texted you saying 'Please text me if you need my help'.\nI also said something about your roommates and everything got true and we started talking more."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('6.jpg')"></div><div class="content"><h1 class="type" data-text="Then I felt ill and uske baad we started talking more and more.\nIt's also the date we consider our relationship started.\nI know we both were very confused about each other’s feelings.\nBut the main thing was we never gave up on each other and stayed together."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('7.webp')"></div><div class="content"><h1 class="type" data-text="We created a lot of memories together and I am sure that we will create them throughout our life."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('8.jpg')"></div><div class="content"><h1 class="type" data-text="Chlo let's discuss some of our memories we created together"></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('9.jpg')"></div><div class="content"><h1 class="type" data-text="The first memory of us where you used to hate me.\nNot just hate, like a lot.\nI wasn’t aware of that at that time.\nBut slowly you started trusting me and that progress made me very happy.\nI Love You A Lot My Purva"></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('her_parents.jpg')"></div><div class="content"><h1 class="type" data-text="Memory of us soft launching each other with our parents.\nDeepansh ne student discount se earphones dilaye.\nAur mummy ko follow request aayi jo accept nahi hui."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('10.jpg')"></div><div class="content"><h1 class="type" data-text="Talking about memories and how can we forget about some dirty stuff.\nPura to mai......\nEhehehehehe"></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('11.jpg')"></div><div class="content"><h1 class="type" data-text="How can we not talk about our calls.\nThe ones I started.\nAnd when you said raat ko call pe bataungi.\nI was teasing you and I was the happiest.\nI still am."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('her_mom.jpg')"></div><div class="content"><h1 class="type" data-text="The Spotify memory.\nAnd your bank account error.\nWe spent hours figuring it out.\nAnd later your student ID verification too."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('father_sbi.jpeg')"></div><div class="content"><h1 class="type" data-text="Talking about bank account and SBI.\nImpossible.\nI hate SBI but my father-in-law is in SBI so I tease you only with love."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('12.jpg')"></div><div class="content"><h1 class="type" data-text="The Diwali time.\nWe were both at home and scared.\nBut inside my heart I knew we would manage.\nAnd we did.\nWe are one."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('13.jpg')"></div><div class="content"><h1 class="type" data-text="The most important day of our life.\nI was taking a bath and suddenly thought I want to meet the girl I will marry."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('mumbai.jpg')"></div><div class="content"><h1 class="type" data-text="I know it was shocking for you.\nBut Deepansh sambhal lega.\nWe met.\nHeld hands.\nJust us."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('old_heart.webp')"></div><div class="content"><h1 class="type" data-text="The time we spent together is unforgettable.\nEven the day we almost got caught.\nThe happiest and saddest day.\nBut separation was temporary.\nWe are forever."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('15.jpeg')"></div><div class="content"><h1 class="type" data-text="Our New Year.\nNot as planned.\nBut together.\nAnd that’s what matters."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('16.jpg')"></div><div class="content"><h1 class="type" data-text="Our unforgettable fights.\nPrivacy, trust, understanding.\nI don’t worry anymore.\nWe are together."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('purva_short.jpg')"></div><div class="content"><h1 class="type" data-text="Soo much happy memories na.\nBut I am gonna say something from my heart also\nThe most heartbreaking part of our fights were hiding.....\nThat guy or the What's the harm part\nBro yaar aesa nahi krna kbhi......\nI don't worry about it anymore\nI trust you my Tinda"></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('together.jpg')"></div><div class="content"><h1 class="type" data-text="Mera pyara baccha\nI LOVE YOU A LOT"></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('17.jpg')"></div><div class="content"><h1 class="type" data-text="I got lost in your eyes the day we met.\nSo lost that my brain went on airplane mode.\nTolly."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('18.jpg')"></div><div class="content"><h1 class="type" data-text="The forehead kiss, bro I was also lost in that moment and that side hug part..... bro you know na I'll beat you a lot.\nLet's also remind the part of card girana ehehehe.....\nYou are just a tinda, MY TINDA\nMY TINDA."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('19.jpg')"></div><div class="content"><h1 class="type" data-text="Purva Ji.\nBe honest with your feelings.\nYou’ll see a changed Deepansh.\nI’m falling for you more every day."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('20.jpg')"></div><div class="content"><h1 class="type" data-text="We fight and we fix.\nStay with me.\nI’ll marry you."></h1></div></div>
    <div class="slide"><div class="bg" style="background-image:url('21.jpg')"></div><div class="content"><h1 class="type" data-text="Bhaut lambi ho gyi na.\nChlo let’s wrap it in the next slide."></h1></div></div>

    <div class="slide" id="final-slide">
        <div class="bg" style="background-image:url('hands.jpg')"></div>
        <div id="wax-seal-btn" onclick="openLetter()"></div>
        <div class="content" id="paper-letter" style="display:none">
            <h1 class="type" data-text="Hey Purva,\nI was just sitting here thinking about everything, and I realized if I could only say one last thing to you, I’d want it to be this. I know I’m not always the best with words, but you’re the most important part of my life, and I need you to know how much you actually mean to me.\n\nEver since you came into my life, everything just feels different. You’re my peace, Purva. Even when things get stressful with college or exams or just life in general, knowing I have you makes it all feel okay. I love the way you understand me without me even having to say much. I love your vibe, your heart, and just... everything about you.\n\nI know I can be a bit much sometimes, but thank you for staying, for being my person, and for loving me the way you do. I honestly don't know what I'd do without you by my side. You’re my world, and I promise to always be there for you, no matter what happens.\n\nI love you more than I can ever really put into a text. You’re mine, and I’m yours, always."></h1>
        </div>
    </div>

    <div id="idle">Tap screen to continue...</div>

    <div id="exit">
        <canvas id="fireworks"></canvas>
        <div id="exit-content">
            <h1 style="font-family:'Dancing Script'; color:#ff4d88; font-size:3rem; margin-bottom:20px">Forever Yours</h1>
            <p id="timed" style="opacity:0; color:#aaa;">Stay here for a moment…</p>
            <br>
            <button id="unlockBtn" onclick="location.reload()" style="background:transparent; border:1px solid #ff4d88;">Replay</button>
            <button id="unlockBtn" onclick="window.close()" style="background:transparent; border:1px solid #ff4d88;">Close</button>
            <button id="unlockBtn" onclick="unlockSecret()" style="background:transparent; border:1px solid #ff4d88;">Secret ❤️</button>
            <p id="secret" style="display:none; color:#ff4d88; margin-top:20px; border:1px solid #ff4d88; padding:10px; background:rgba(0,0,0,0.8);">I'LL BE WITH YOU FOREVER AND WE ARE GETTING MARRIED ON DECEMBER 2031</p>
        </div>
    </div>

<script>
    const PASSWORD = "31072025";
    const SECRET_PASSWORD = "MERIPURVA";
    const START_DATE = new Date(2025, 6, 31); 
    const FLOATING_TEXTS = ["MERA TINDA", "MERI PURVA", "MY PROPERTY", "MY KID"];

    const slides = document.querySelectorAll('.slide');
    const lock = document.getElementById('lock');
    const pass = document.getElementById('pass');
    const music = document.getElementById('music');
    const exit = document.getElementById('exit');
    const idle = document.getElementById('idle');
    const progressBar = document.getElementById('progress-bar');
    const timerDisplay = document.getElementById('timer');

    let index = 0, unlocked = false, idleTimer;

    // TIMER
    setInterval(() => {
        const now = new Date();
        const diff = now - START_DATE;
        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const m = Math.floor((diff / 1000 / 60) % 60);
        const s = Math.floor((diff / 1000) % 60);
        timerDisplay.innerText = `${d}d ${h}h ${m}m ${s}s`;
    }, 1000);

    // FLOATING HEARTS & TEXT (HIGH FREQUENCY)
    setInterval(() => {
        if(!unlocked || exit.style.display === "flex") return;
        const el = document.createElement('div');
        el.className = 'floater';
        if(Math.random() < 0.7) {
            el.innerText = '❤️';
            el.classList.add('heart-float');
        } else {
            el.innerText = FLOATING_TEXTS[Math.floor(Math.random() * FLOATING_TEXTS.length)];
            el.classList.add('text-float');
        }
        el.style.left = Math.random() * 90 + 'vw';
        el.style.animationDuration = (Math.random() * 3 + 3) + 's';
        document.body.appendChild(el);
        setTimeout(()=>el.remove(), 6000);
    }, 300);

    // SHOOTING STARS
    setInterval(() => {
        if(!unlocked || exit.style.display === "flex") return;
        const star = document.createElement('div');
        star.className = 'shooting-star';
        star.style.left = Math.random() * 100 + 'vw';
        star.style.top = Math.random() * 50 + 'vh';
        document.body.appendChild(star);
        setTimeout(()=>star.remove(), 2000);
    }, 4000);

    // UNLOCK
    document.getElementById('unlockBtn').onclick = (e) => {
        e.stopPropagation();
        if(pass.value === PASSWORD){
            lock.style.transform = "translateY(-100%)";
            unlocked = true;
            music.play().catch(e=>console.log(e));
            setTimeout(()=>{
                lock.style.display="none";
                typeText(slides[0]);
                updateProgress();
            },800);
        } else {
            document.querySelector('.lock-box').classList.add('shake');
            setTimeout(()=>document.querySelector('.lock-box').classList.remove('shake'),400);
            pass.value="";
        }
    };

    // NAVIGATE & CLICK BURST
    document.body.onclick = (e) => {
        if(!unlocked || e.target.id === 'wax-seal-btn' || e.target.tagName === 'BUTTON' || exit.style.display === "flex") return;
        resetIdle();

        // Burst Effect
        createBurst(e.clientX, e.clientY);

        if(index < slides.length - 1){
            slides[index].classList.remove('active');
            index++;
            slides[index].classList.add('active');
            if(index !== slides.length - 1) typeText(slides[index]);
            updateProgress();
        } else {
            if(document.getElementById('paper-letter').style.display !== 'none') showExit();
        }
    };

    function createBurst(x, y) {
        for(let i=0; i<10; i++){
            const p = document.createElement('div');
            p.className = 'burst-particle';
            p.style.left = x + 'px';
            p.style.top = y + 'px';
            p.style.background = `hsl(${Math.random()*360}, 100%, 70%)`;
            document.body.appendChild(p);
            
            // Random direction
            const angle = Math.random() * Math.PI * 2;
            const velocity = Math.random() * 100 + 50;
            
            // Animate
            const anim = p.animate([
                { transform: 'translate(0,0) scale(1)', opacity: 1 },
                { transform: `translate(${Math.cos(angle)*velocity}px, ${Math.sin(angle)*velocity}px) scale(0)`, opacity: 0 }
            ], { duration: 600, easing: 'ease-out' });
            
            anim.onfinish = () => p.remove();
        }
    }

    function openLetter(){
        document.getElementById('wax-seal-btn').style.display="none";
        document.getElementById('paper-letter').style.display="block";
        typeText(slides[slides.length-1]);
        setTimeout(showExit, 30000);
    }

    function typeText(slide){
        const el = slide.querySelector('.type');
        if(!el) return;
        const text = el.dataset.text.replace(/\\n/g, "\n");
        el.textContent = "";
        let i=0;
        if(el.typingInterval) clearInterval(el.typingInterval);
        el.typingInterval = setInterval(()=>{
            el.textContent += text.charAt(i);
            i++;
            if(i>=text.length) clearInterval(el.typingInterval);
        },50);
    }

    function updateProgress(){
        progressBar.style.width = ((index+1)/slides.length)*100 + "%";
    }

    function showExit(){
        if(exit.style.display === 'flex') return;
        exit.style.display = "flex";
        fadeOutMusic();
        setTimeout(()=>document.getElementById('timed').style.opacity="1", 4000);
        startFireworks();
    }

    function fadeOutMusic(){
        let v = music.volume;
        let f = setInterval(()=>{
            if(v>0.05){ v-=0.05; music.volume=v; }
            else{ music.pause(); clearInterval(f); }
        },200);
    }

    function unlockSecret(){
        if(prompt("Secret?") === SECRET_PASSWORD) document.getElementById('secret').style.display="block";
    }

    function resetIdle(){
        idle.style.opacity="0";
        clearTimeout(idleTimer);
        idleTimer = setTimeout(()=>{
            if(unlocked && exit.style.display!=="flex") idle.style.opacity="1";
        },6000);
    }

    function startFireworks(){
        const c = document.getElementById('fireworks');
        const x = c.getContext('2d');
        c.width = window.innerWidth; c.height = window.innerHeight;
        let p = [];
        function create(){
            let cx = Math.random()*c.width, cy = c.height;
            let col = `hsl(${Math.random()*360},100%,50%)`;
            for(let i=0;i<40;i++) p.push({x:cx,y:cy*0.5+Math.random()*cy*0.4,vx:(Math.random()-0.5)*5,vy:(Math.random()-0.5)*5,life:100,c:col});
        }
        function anim(){
            x.fillStyle='rgba(0,0,0,0.1)'; x.fillRect(0,0,c.width,c.height);
            p.forEach((pt,i)=>{
                pt.x+=pt.vx; pt.y+=pt.vy; pt.life--;
                x.fillStyle=pt.c; x.beginPath(); x.arc(pt.x,pt.y,2,0,Math.PI*2); x.fill();
                if(pt.life<=0) p.splice(i,1);
            });
            if(Math.random()<0.05) create();
            requestAnimationFrame(anim);
        }
        anim();
    }
</script>
</body>
</html>